<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Chapter V: Polymorphic iterators</title>
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
<link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="assets/styles.css">
</head>
<body>
<div id="wrapper">
<h1 id="chapter-v-polymorphic-iterators">Chapter V: Polymorphic iterators</h1>
<ul>
<li><a href="./00-intro.html">Intro: Generators from the ground up</a></li>
<li><a href="./01-pull-push.html">Chapter I: Pull vs. push</a></li>
<li><a href="./02-for-of.html">Chapter II: The for/of loop</a></li>
<li><a href="./03-iterators.html">Chapter III: Iterators</a></li>
<li><a href="./04-generators.html">Chapter IV: Generators</a></li>
<li><strong>Chapter V: Polymorphic iterators</strong></li>
<li><a href="./06-recursion.html">Chapter VI: Delegation and recursion</a></li>
<li><a href="./07-advanced-topics.html">Chapter VII: Advanced topics</a></li>
</ul>
<h2 id="pedantic-distinctions">Pedantic distinctions</h2>
<p>We now make a small detour to highlight a possibly confusing point which you&#39;ll run into sooner or later, so we might as well get it out of the way now. Recall that an <em>iterable</em> and an <em>iterator</em> are different things. Well, plot twist: some objects are both, simultaneously.</p>
<p>Which objects, you ask? Pretty much every <em>native</em> JavaScript iterator object. They do this by having a <code>[Symbol.iterator]</code> method which returns <code>this</code>. I don&#39;t know if this is sanctioned terminology, but I&#39;m going to call this a <em>polymorphic iterator</em>.</p>
<h2 id="possibly-confusing-but-useful">Possibly confusing, but useful</h2>
<p>Polymorphic iterators add confusion because they blur the line between iterators and iterables. However, there&#39;s a good reason for it, since it allows using that iterator wherever an iterable is expected.</p>
<p>Why would I want to use an iterator where an iterable is expected, you ask? Because more than just <code>[Symbol.iterator]</code> methods can return iterators. For example, an ES6 <code>Map</code> has several methods that return iterators:</p>
<ul>
<li>Map#keys()</li>
<li>Map#values()</li>
<li>Map#entries()</li>
</ul>
<p>Suppose you have a map where you just want to loop over the keys, rather than key/value pairs. Since <code>Map#keys()</code> returns a polymorphic iterator, this will work:</p>
<pre><code class="lang-js">for (const key of map.keys()) {
  // ...
}
</code></pre>
<p>...otherwise you&#39;d get a TypeError, since for/of expects an iterable.</p>
<h2 id="what-does-this-mean-for-you-">What does this mean for you?</h2>
<p>This is a convenience to make it easier to work with iterators. It&#39;s a good idea to follow this pattern if you ever make your own iterators, but since generators return polymorphic iterators for you, you normally don&#39;t need to worry about it.</p>
<hr>
<ul>
<li><a href="./00-intro.html">Intro: Generators from the ground up</a></li>
<li><a href="./01-pull-push.html">Chapter I: Pull vs. push</a></li>
<li><a href="./02-for-of.html">Chapter II: The for/of loop</a></li>
<li><a href="./03-iterators.html">Chapter III: Iterators</a></li>
<li><a href="./04-generators.html">Chapter IV: Generators</a></li>
<li><strong>Chapter V: Polymorphic iterators</strong></li>
<li><a href="./06-recursion.html">Chapter VI: Delegation and recursion</a></li>
<li><a href="./07-advanced-topics.html">Chapter VII: Advanced topics</a></li>
</ul>

<hr>
<p id="bottom-note">
Copyright &copy; 2016 by Greg Reimer (<a href="https://github.com/greim">github.com/greim</a>).
Submit issues to the <a href="https://github.com/greim/gen/issues">GitHub issues</a> page.
</p>
</div>
<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
